<!DOCTYPE html>
<html ng-app="myApp" lang="pt-br">
  <head>
    <meta charset="utf-8">
    <title>Welcome to Firebase Hosting</title>  
    <link rel="stylesheet" href="styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.0/angular.min.js"></script>
    <script src="https://cdn.firebase.com/libs/angularfire/2.2.0/angularfire.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.6.6/firebase.js"></script>
    <script src="app.js"></script>  
  </head>
  <body ng-controller="CtrlList">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="jumbotron">
                  <h1>Pagina administrativa</h1>
                  <p>Aqui você pode visualizar os posts e adicionar novos posts.</p>
                  <p><a class="btn btn-primary btn-lg" href="#" role="button">Sair</a></p>
                </div>
            </div>
        </div>       
        <div class="row">
            <div class="col-md-6">
                <p class="h1">Adicionar Post</p>
                <form ng-submit="addPost()">
                    <div class="form-group col-md-6">
                       <input ng-model="newTitle" placeholder="Título" class="form-control">
                    </div>
                    <div class="form-group col-md-6">
                      <input ng-model="newAuthor" placeholder="Autor" class="form-control">
                    </div>
                    <div class="form-group col-md-12">
                      <textarea ng-model="newText" cols="30" rows="10" placeholder="Texto" class="form-control"></textarea>
                    </div>     
                    <div class="form-group col-md-12">
                      <button type="submit" class="btn btn-default">Add post</button>
                    </div>      
                </form>
            </div>                     
            <div class="col-md-6">
                <p class="h1">Atulizar/Editar Post</p>   
                <div id="postGroup" ng-repeat="post in posts">
                    <div class="row">
                        <div class="col-md-2">
                            <p>Título:</p>
                        </div>
                        <div class="col-md-10">
                            <input ng-model="post.title" ng-change="posts.$save(post)" class="input-text">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-2">
                            <p>Text:</p>
                        </div>
                        <div class="col-md-10">
                            <textarea ng-model="post.text" ng-change="posts.$save(post)" class="input-text"></textarea>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-2">
                            <p>Autor:</p>
                        </div>
                        <div class="col-md-10">
                            <input ng-model="post.author" ng-change="posts.$save(post)" class="input-text">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 text-right">
                            <br>
                            <button ng-click="posts.$remove(post)" ng-confirm-click="Deseja excluir" class="btn btn-danger">Delete</button>
                        </div>
                    </div>                    
                </div>
            </div>            
        </div>
        
    </div> <!-- .container -->
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  </body>
</html>
